<!DOCTYPE html>
<html lang="bg" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <th:block th:insert="~{fragments/links}"></th:block>
    <title>Продукти от поръчка</title>
    <link rel="icon" type="image/x-icon" href="/img/photos/noImage.png">
    <link href="/css/show.css" rel="stylesheet">
    <style>
        /* Ensure background color is applied to the entire page */
        body {
            background-color: #B5B5B5; /* Set grey background color */
            margin: 0;
            padding: 0;
        }

<!--        /* Make sure that main content area takes the full height of the viewport */-->
<!--        .main {-->
<!--            background-color: #B5B5B5; /* Set grey background color */-->
<!--            min-height: 100vh; /* Ensure the main content takes the full viewport height */-->
<!--        }-->

<!--        /* Set greyish background for the card and table */-->
<!--        .card, .table-striped {-->
<!--            background-color: #B5B5B5; /* Set grey background color */-->
<!--        }-->

<!--        /* Table styling for better readability */-->
<!--        .table-striped th, .table-striped td {-->
<!--            padding: 10px;-->
<!--            color: #000; /* Ensure text color is black for contrast */-->
<!--        }-->

<!--        /* Ensure the background for rows is grey (#B5B5B5) */-->
<!--        .table-striped tbody tr {-->
<!--            background-color: #B5B5B5; /* Set row background color */-->
<!--        }-->

<!--        /* Add hover effect for rows */-->
<!--        .table-striped tbody tr:hover {-->
<!--            background-color: #9E9E9E; /* Slightly darker grey for hover effect */-->
<!--        }-->

        /* Set images in the table to be bigger */
        img {
            width: 300px; /* Adjust image size */
            height: auto;
        }

        /* Adjust font size and color for text */
        h5, .card-title, .table th, .table td {
            color: #000; /* Ensure text is readable on grey background */
        }

<!--        /* Set the header color for the table and the title */-->
<!--        .card-header, .table thead {-->
<!--            background-color: #B5B5B5; /* Set grey background color for header */-->
<!--            color: #000; /* Ensure text in header is black for contrast */-->
<!--        }-->
    </style>
</head>

<body>
<div class="wrapper">
    <th:block th:insert="~{fragments/header}"></th:block>
    <div class="main">
        <nav class="navbar navbar-expand navbar-light navbar-bg">
            <a class="sidebar-toggle js-sidebar-toggle">
                <i class="hamburger align-self-center"></i>
            </a>
        </nav>

        <main class="content">
            <div class="row" style="font-size: 1rem;">
                <div class="col-lg-11 mx-auto">
                    <div class="card custom-card-width-lg">
                        <div class="card-header">
                            <h5 class="card-title mb-0">Продукти от поръчка</h5>
                        </div>

                        <div class="card-body">
                            <table class="table table-striped">
                                <thead>
                                <tr>
                                    <th>Изображение</th>
                                    <th>Пакет</th>
                                    <th>Продуктов код</th>
                                    <th>Цена за брой</th>
                                    <th>Количеството</th>
                                    <th>Обща цена</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="orderProduct : ${orderProducts}">
                                    <td>
                                        <img th:src="@{${productImageUrls[orderProduct.id]}}" alt="Product Image">
                                    </td>
                                    <td th:text="${packageNames[orderProduct.id]}">Пакет</td>
                                    <td th:text="${productDetails[orderProduct.id].productCode}">Продуктов код</td>
                                    <!-- Display the custom price (sellingPrice) -->
                                    <td th:text="${orderProduct.sellingPrice}">Цена</td>
                                    <td th:text="${orderProduct.number}">1</td>
                                    <!-- Calculate total based on custom price -->
                                    <td th:text="${orderProduct.sellingPrice.multiply(orderProduct.number)}">Обща цена</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>

<script src="/js/app.js"></script>
</body>
</html>
