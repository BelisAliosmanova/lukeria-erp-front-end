<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Responsive Admin &amp; Dashboard Template based on Bootstrap 5">
    <meta name="author" content="AdminKit">
    <meta name="keywords"
          content="adminkit, bootstrap, bootstrap 5, admin, dashboard, template, responsive, css, sass, html, theme, front-end, ui kit, web">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="shortcut icon" href="/static/img/icons/icon-48x48.png"/>

    <link rel="canonical" href="https://demo-basic.adminkit.io/"/>

    <title> Кутии </title>

    <link href="/css/app.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
<div class="wrapper">
    <!--    HEADER  -->
    <th:block th:insert="~{fragments/header}"></th:block>



    <div class="main">
        <nav class="navbar navbar-expand navbar-light navbar-bg">
            <a class="sidebar-toggle js-sidebar-toggle">
                <i class="hamburger align-self-center"></i>
            </a>
        </nav>
        <main class="content">
                <div class="row">
                    <div class="col-lg-8 mx-auto">
                        <div class="card custom-card-width-lg">
                            <div class="card-header">
                                <h5 class="card-title mb-0">Всички Кутии</h5>
                            </div>
                            <div class="text-center">
                                <a href="/package/create" class="btn btn-primary">Добави Кутия</a>
                            </div>
                            <div class="card-body">
                                <div class="row mb-3">
                                    <div class="col">
                                        <input type="text" id="searchInput1" class="form-control" placeholder="Търсене по номер ID...">
                                    </div>
                                    <div class="col">
                                        <input type="text" id="searchInput" class="form-control" placeholder="Търсене по име...">
                                    </div>
                                </div>
                                <div class="table-responsive">
                                    <table class="table">
                                    <thead>
                                    <tr>
                                        <th>Снимка</th>
                                        <th>ID</th>
                                        <th>Име</th>
                                        <th>Английско име</th>
                                        <th>Наличност</th>
                                        <th>Цена</th>
                                        <th>Кашон ID</th>
                                        <th>Тарелка ID</th>
                                        <th>Брой кутии в Кашон</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr th:each="package : ${packages}" data-id="${package.id}" class="package-row">
                                        <td>
                                            <img th:src="@{${backendBaseUrl} + '/'+ ${package.photo}}" alt="no image" height="100" width="100">
                                        </td>
                                        <td th:text="${package.id}"></td>
                                        <td th:text="${package.name}"></td>
                                        <td th:text="${package.englishName}"></td>
                                        <td>
                                            <span th:text="${package.availableQuantity + ' Броя'}" th:class="${package.availableQuantity <= 20 ? 'red-cell' : (package.availableQuantity <= 100 ? 'yellow-cell' : '')}"></span>
                                        </td>
                                        <td th:text="${package.price + ' Лв'}"></td>
                                        <td th:text="${package.cartonId}"></td>
                                        <td th:text="${package.plateId}"></td>
                                        <td th:text="${package.piecesCarton}"></td>
                                        <td>
                                            <form th:action="@{'/package/delete/' + ${package.id}}" method="post" th:attr="onsubmit='return confirm(\'Сигурни ли сте, че искате да изтриете пакет с име: ' + ${package.name} + '?\');'">
                                                <button type="submit" class="btn btn-danger">Изтрий</button>
                                            </form>
                                        </td>
                                        <td>
                                            <form th:action="@{'/package/editPackage/' + ${package.id}}" method="get" th:attr="onsubmit='return confirm(\'Сигурни ли сте, че искате да редактирате пакет с име: ' + ${package.name} + '?\');'">
                                                <button type="submit" class="btn btn-primary">Редактирай</button>
                                            </form>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
<script src="/js/app.js"></script>


</body>

</html>